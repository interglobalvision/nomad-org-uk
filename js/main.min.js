function l(e){"use strict";console.log(e)}function lazyLoadImages(e){windowWidth=$(window).width(),$(e).each(function(){var e=$(this),i=e.data();retina?windowWidth>1.5*largeImageThreshold?e.attr("src",i.largest):e.attr("src",i.large):windowWidth>largestImageThreshold?e.attr("src",i.largest):windowWidth>largeImageThreshold?e.attr("src",i.large):e.attr("src",i.basic)})}function slickLazyLoad(e){windowWidth=$(window).width(),$(e).each(function(){var e=$(this),i=e.data();retina?windowWidth>1.5*largeImageThreshold?e.attr("data-lazy",i.largest):e.attr("data-lazy",i.large):windowWidth>largestImageThreshold?e.attr("data-lazy",i.largest):windowWidth>largeImageThreshold?e.attr("data-lazy",i.large):e.attr("data-lazy",i.basic)})}function singleLayout(){$("#single-slider").css({"padding-top":margin,height:windowHeight-captionHeight})}function debounce(e,i,a){var o;return function(){var t=this,l=arguments,n=function(){o=null,a||e.apply(t,l)},r=a&&!o;clearTimeout(o),o=setTimeout(n,i),r&&e.apply(t,l)}}var retina=Modernizr.highresdisplay,largeImageThreshold=800,largestImageThreshold=1400,margin=35,slideMargin=80,basicAnimationSpeed=700,html=$("html"),windowHeight=$(window).outerHeight(),windowWidth=$(window).width(),captionHeight=$("#single-slider-text").outerHeight(),galleryOverlay=$("#gallery-overlay"),videoOverlay=$("#video-overlay");$(window).resize(function(){windowHeight=$(window).outerHeight()}),$("body").hasClass("single")&&singleLayout();var Slick={init:function(){var e=this;$(".js-slick-container").on({init:function(i,a){e.replaceCaptions(0),e.resizeImages(),$("#single-slider").css("opacity",1)},afterChange:function(i,a,o,t){e.replaceCaptions(o)}}).slick({prevArrow:$("#gallery-overlay-previous"),nextArrow:$("#gallery-overlay-next")}),$(".js-slick-item").on("click",function(){$(".js-slick-container").slick("slickNext")})},replaceCaptions:function(e){var i=$('[data-slick-index="'+e+'"]').data(),a=i.caption,o=i.title;$("#gallery-overlay-caption").html(a&&void 0!==a&&null!==a?", "+a:" "),$("#gallery-overlay-title").html(o&&void 0!==o&&null!==o?o:" ")},resizeImages:function(){$(".js-slick-item img").css("max-height",windowHeight-captionHeight-2*slideMargin)}};jQuery(document).ready(function(){"use strict";$("#scroll-to-menu").on("click",function(){$("html").ScrollTo()}),$(".js-post-toggle").on("click",function(){var e=$(this),i=e.parent().find(".post-copy");e.data("open")===!0?(i.slideUp(basicAnimationSpeed),e.data("open",!1)):(i.slideDown(basicAnimationSpeed),e.data("open",!0))}),$(".project-video").each(function(){console.log("loading"),this.load()}),$(".project-video").on("durationchange",function(){console.log("loaded"),$(this).is(":hover")&&this.play(),$(this).on({mouseenter:function(){this.play()},mouseleave:function(){this.pause(),this.currentTime=0}})}),$("body").hasClass("single-project")&&($("#main-content").ScrollTo(),lazyLoadImages(".js-grid-img")),$(".js-load-gallery").on("click",function(){var e="#overlay-gallery-"+$(this).data("gallery"),i=$(e).find(".js-slick-item");i.clone().appendTo("#gallery-overlay-insert"),lazyLoadImages("#gallery-overlay-insert .slider-img"),galleryOverlay.show(),html.addClass("overlay-active"),Slick.init(),$("#main-content").ScrollTo()}),$("#gallery-overlay-close").on("click",function(){galleryOverlay.hide(),html.removeClass("overlay-active"),$(".js-slick-container").slick("unslick").html("")}),$(".js-load-vimeo").on("click",function(){var e=$(this),i=e.data(),a='<iframe id="overlay-video-player" src="//player.vimeo.com/video/'+i.vimeo+'?portrait=0&badge=0&byline=0&title=0&autoplay=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';$("#video-overlay-insert").html(a),$("#video-overlay-title").html(i.title),videoOverlay.show(),html.addClass("overlay-active"),$("#main-content").ScrollTo()}),$("#video-overlay-close").on("click",function(){videoOverlay.hide(),html.removeClass("overlay-active"),$("#video-overlay-insert").html("")});var e=$("#project-header"),i=$("#scroll-to-menu");if(e.length){var a=e.offset(),o=a.top,t=e.outerHeight();$("article.project").prepend('<div class="js-header-spacer u-hidden"></div>');var l=$(".js-header-spacer");l.css("height",t),$(window).on("scroll",function(){var a=$(window).scrollTop();e.hasClass("u-fixed")?o>=a&&(e.removeClass("u-fixed"),l.addClass("u-hidden"),i.addClass("u-hidden")):a>=o&&(e.addClass("u-fixed"),l.removeClass("u-hidden"),i.removeClass("u-hidden"))})}else{var n=100;$(window).on("scroll",function(){var e=$(window).scrollTop();i.hasClass("u-hidden")?e>=n&&i.removeClass("u-hidden"):n>=e&&i.addClass("u-hidden")})}$(".js-project-copy-link").on("click",function(){var e="#"+$(this).data("target-id");$(e).ScrollTo()}),$(".js-packery-container").length&&$(".js-packery-container").imagesLoaded(function(){$(".js-packery-container").packery({itemSelector:".js-packery-item",transitionDuration:"0s",percentPosition:!0,isOriginTop:!1}).css({opacity:1})}),$(window).on("resize",function(){Slick.resizeImages()})});
//# sourceMappingURL=/main.min.js.map