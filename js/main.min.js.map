{"version":3,"sources":["main.js"],"names":["l","data","console","log","lazyLoadImages","selector","$","each","$this","this","windowWidth","window","width","retina","largeImageThreshold","attr","largest","large","largestImageThreshold","basic","slickLazyLoad","singleLayout","css","padding-top","margin","height","windowHeight","captionHeight","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","Modernizr","highresdisplay","basicAnimationSpeed","outerHeight","overlay","overlayGallery","resize","hasClass","Slick","init","on","event","slick","resizeImages","prevArrow","nextArrow","replaceCaption","currentSlide","caption","html","undefined","jQuery","document","ready","$copy","parent","find","slideUp","slideDown","target","insert","clone","appendTo","show","scrollTop","hide","ScrollTo","length","imagesLoaded","packery","itemSelector","transitionDuration","percentPosition","opacity"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Modernizr */\n\nfunction l(data) {\n  'use strict';\n  console.log(data);\n}\n\n// VARS\n\nvar retina = Modernizr.highresdisplay,\n  largeImageThreshold = 800,\n  largestImageThreshold = 1400,\n\n  margin = 35,\n\n  basicAnimationSpeed = 700,\n\n  windowHeight = $(window).outerHeight(),\n\n  captionHeight = $('#single-slider-text').outerHeight(),\n\n  overlay = $('#overlay'),\n  overlayGallery = $('#overlay-gallery');\n\n// FUNCTIONS\n\n  // LAZY IMAGES\n\nfunction lazyLoadImages(selector) {\n  $(selector).each(function() {\n    var $this = $(this);\n    var data = $this.data();\n    var windowWidth = $(window).width();\n\n    if (retina) {\n      if (windowWidth > (largeImageThreshold*1.5)) {\n        $this.attr('src', data.largest);\n      } else {\n        $this.attr('src', data.large);\n      }\n    } else if (windowWidth > largestImageThreshold) {\n      $this.attr('src', data.largest);\n    } else if (windowWidth > largeImageThreshold) {\n      $this.attr('src', data.large);\n    } else {\n      $this.attr('src', data.basic);\n    }\n  });\n}\n\nfunction slickLazyLoad(selector) {\n  $(selector).each(function() {\n    var $this = $(this);\n    var data = $this.data();\n    var windowWidth = $(window).width();\n\n    if (retina) {\n      if (windowWidth > (largeImageThreshold*1.5)) {\n        $this.attr('data-lazy', data.largest);\n      } else {\n        $this.attr('data-lazy', data.large);\n      }\n    } else if (windowWidth > largestImageThreshold) {\n      $this.attr('data-lazy', data.largest);\n    } else if (windowWidth > largeImageThreshold) {\n      $this.attr('data-lazy', data.large);\n    } else {\n      $this.attr('data-lazy', data.basic);\n    }\n  });\n}\n\n  // LAYOUT\n\n$(window).resize(function() {\n  windowHeight = $(window).outerHeight();\n});\n\nfunction singleLayout() {\n  $('#single-slider').css({\n    'padding-top': margin,\n    'height': (windowHeight - captionHeight)\n  });\n}\n\nif ($('body').hasClass('single')) {\n  singleLayout();\n}\n\n  // RESIZE\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\n  // SLICK\n\nvar Slick = {\n  init: function() {\n    var _this = this;\n    $('.js-slick-container').on({\n      init: function(event, slick){\n        //var currentSlideIndex = $('.slick-active').attr('data-slick-index');\n        // set caption\n        //_this.replaceCaption(currentSlideIndex);\n\n        // set length for n of * in captions\n        //$('#slick-length').html($('.js-slick-item').length-2);\n\n        // fix images for window height\n        Slick.resizeImages();\n\n        // fade in when ready\n        $('#single-slider').css( 'opacity' , 1 );\n        //$('#single-slider-text').css( 'opacity' , 1 );\n      }/*,\n      afterChange: function(event, slick, currentSlide, nextSlide){\n        // set caption\n        //_this.replaceCaption(currentSlide);\n\n        // set active index in human readable form\n        //$('#slick-current-index').html(currentSlide+1);\n      }*/\n    }).slick({\n      prevArrow: $('#overlay-previous'),\n      nextArrow: $('#overlay-next'),\n    });\n\n    $('.js-slick-item').on('click', function() {\n      $('.js-slick-container').slick('slickNext');\n    });\n  },\n\n  replaceCaption: function(currentSlide) {\n    var caption = $('[data-slick-index=\"' + currentSlide + '\"]').data('caption');\n    if (! caption || caption === undefined || caption === null) {\n      $('#slick-caption').html(' ');\n    } else {\n      $('#slick-caption').html(caption);\n    }\n  },\n\n  resizeImages: function() {\n    $('.js-slick-item img').css( 'max-height' , ( windowHeight - captionHeight - margin ) );\n  }\n};\n\n\njQuery(document).ready(function () {\n  'use strict';\n\n// INDEX\n  $('.js-post-toggle').on('click', function() {\n    var $this = $(this);\n    var $copy = $this.parent().find('.post-copy');\n\n    if ($this.data('open') === true) {\n      $copy.slideUp(basicAnimationSpeed);\n      $this.data('open', false);\n    } else {\n      $copy.slideDown(basicAnimationSpeed);\n      $this.data('open', true);\n    }\n  });\n\n// SINGLE PROJECT\n  $('.js-load-gallery').on('click', function() {\n    var target = '#overlay-gallery-' + $(this).data('gallery');\n    var insert = $(target).find('.js-slick-item');\n\n    insert.clone().appendTo('#overlay-gallery');\n\n    lazyLoadImages('#overlay-gallery .slider-img');\n\n    overlay.show();\n\n    Slick.init();\n\n    $('body').scrollTop(0);\n  });\n\n  $('#overlay-close').on('click', function() {\n    overlay.hide();\n    $('.js-slick-container').slick('unslick').html('');\n  });\n\n  $('.js-project-copy-link').on('click', function() {\n    var target = '#' + $(this).data('target-id');\n    $(target).ScrollTo();\n  });\n\n\n// PACKERY\n  if ( $('.js-packery-container').length ) {\n    $('.js-packery-container').imagesLoaded( function() {\n      $('.js-packery-container').packery({\n        itemSelector: '.js-packery-item',\n        transitionDuration: '0s',\n        percentPosition: true\n      }).css({\n        'opacity': 1\n      });\n    });\n  }\n\n\n\n  $(window).on('resize', function() {\n    Slick.resizeImages();\n  });\n\n});"],"sourceRoot":"/source/"}